
Info: 
1. Processing charge: It is calculated as 1% of the Total cost. If total cost is 100, then actual cost is 99 and processing charge is 1. 
2. EMI for any purchase starts on 10th Day of the next month and subsequent EMI's are also due on the 10th day of the upcoming months, whatever may be the date of purchase. 
	For e.g., If a customer purchases a product on 24th June 2020 on 3 months EMI, then his/her EMI will start on 10th July 2020, next two EMI's would be due on 10th August 2020 and 10th September 	                              2020.
	              If a customer purchases a product on 4th June 2020 on 3 months EMI, then his/her EMI will start on 10th July 2020, next two EMI's would be due on 10th August 2020 and 10th September 	                              2020.
3. Few small changes changes in the name of columns would have been there due to the Database restrictions. Kindly go through it properly. Changes have been updated on the shared folder excel sheet also.
4. Kindly use proper names, constraints, data types in the java code. Use proper form/data validation wherever required.
5. Check for all the not null, unique constraints. Have logic to cath the exceptions.
6. Formulate logic of the code in accordance with the information provided.
7. Drop those tables whose name are same as the below tables before running the given queries. 


	Please run the below given queries in the order as it is given.

				++++++++++++++++++++++++++++++++++++++++++++++QUERIES++++++++++++++++++++++++++++++++++++++++++++++++++

drop table admin;
drop table cardtype;
drop table customer;
drop table carddetails;
drop table newcardpayment;
drop table productinventory;
drop table purchases;
drop table emichart;
drop table emipayment;

create table ADMIN (
AdminId number primary key,
FirstName varchar2(20) not null,
LastName varchar2(20) not null,
AdminEmailId varchar2(30) not null unique,
AdminUsername varchar2(30) not null unique,
AdminPassword varchar2(20) not null
);

create table CARDTYPE(CardTypeId number primary key, CardTypeName varchar2(20) not null unique, CardLimit Number not null, CardJoiningFee number not null, ActiveYear number not null);

create table Customer(
CustomerId number primary key,
FirstName varchar2(20) not null,
LastName varchar2(20) not null,
EmailId varchar2(30) not null unique,
PhoneNo number not null unique,
Username varchar2(30) not null unique,
Password varchar2(30) not null,
PAN varchar2(10) not null unique,
AadharNo varchar2(12) not null unique,
BankName varchar2(30) not null,
AccountNo number not null unique,
IFSC varchar2(11) not null,
AddressLine1 varchar2(30) not null,
AddressLine2 varchar2(30) not null,
City varchar2(30) not null,
State varchar2(30) not null,
Country varchar2(30) not null,
ActivationStatus varchar2(15) default 'Applied'
);

create table CardDetails(
CardNumber number primary key,
CustId number not null unique,
CardTypeId number not null,
Balance Number not null,
ActivationDate Date not null,
ExpiryDate Date not null,
Constraint fk_customer foreign key (CustId) references Customer (CustomerId),
Constraint fk_CardType foreign key (CardTypeId) references CardType (CardTypeId)
);

create table NewCardPayment(
NewCardPaymentId number primary key,
CustId number not null unique,
PaymentDate Date not null,
AmountPaid number not null,
Constraint fk_customerpayment foreign key (CustId) references Customer (CustomerId)
);

create table PRODUCTINVENTORY(
ProductId number primary key,
Name varchar2(20) not null,
ProductDetails varchar2(50) not null,
AvailabilityNumber number not null,
ActualCost number not null,
ProcessingCharge number not null,
TotalCost number not null
);

create table PURCHASES(
PurchaseTxnID number primary key,
CustId number not null,
ProdId number not null,
PurchaseDate Date not null,
EMITenure number not null,
EMIAmountPerMonth number not null,
Constraint fk_customerpurchase foreign key (CustId) references Customer (CustomerId),
Constraint fk_productInventory foreign key (ProdId) references Productinventory (ProductId)
);


create table EMICHART(
DueId number primary key,
PurchaseTxnId number not null ,
DueDate Date not null,
PaymentToBeDone number not null,
InitialToBeBalance number not null,
AfterPaymentToBeBalance number not null,
InstallmentMonthNo number not null,
Status varchar2(15) default 'Upcoming',
Constraint fk_purchasetxnid foreign key (PurchaseTxnId) references Purchases (PurchaseTxnId)
);


create table EMIPAYMENT(
PaymentTxnId number primary key,
PurchaseTxnId number not null,
PaymentAmount number not null,
DueId number not null unique,
InstallmentMonthNo number not null,
InitialProductBalance number not null,
CurrProductBalance number not null,
PaymentDate Date not null,
Constraint fk_purchasetxnidpayment foreign key (PurchaseTxnId) references Purchases (PurchaseTxnId),
Constraint fk_DueId foreign key (DueId) references EMIChart (DueId)
);


Insert into Admin values (5001,'Sachin','Tendulkar','sachin.ten@dhankosh.com','sachin.ten@dhankosh.com','100@century');
Insert into Admin values (5002,'Bruce','Wayne','bruce.way@dhankosh.com','bruce.way@dhankosh.com','iambatman');


Insert into CardType values(1,'Gold',75000,1000,5);
Insert into CardType values(2,'Titanium',150000,2000,5);


insert into customer values(1,'Marshall','Mathers','mandm@gmail.com',8956231414,'mandm@gmail.com','rapgod','EEPPK3272F','190191016547','SBI',2546,'SBIN0000249','A','B','Detroit','Michigan','USA','Applied');
insert into customer values(2,'Albert','Singh','albert19@gmail.com',9784565856,'albert19@gmail.com','albert123','CCDDL9898Y','102005190254','BOB',1707,'BARB0KANPUR','A','B','Kanpur','UP','India','Active');
insert into customer values(3,'Akbar','Jordan','jordanak@gmail.com',8899774561,'jordanak@gmail.com','ak123jordan','DDCC8998Z','365478961259','BOI',3040,'BOIN0000786','A','B','Ernakulum','Kerala','India','Active');
insert into customer values(4,'Ramesh','Malik','rameshmk@gmail.com',7589463258,'rameshmk@gmail.com','mkramesh@1','BBUY9873X','349658712679','CBI',9966,'CBIN0000321','A','B','Thane','Maharashtra','India','Hold_Due');
insert into customer values(5,'Kishor','Ali','iamali@gmail.com',6203547896,'imali@gmail.com','ekpadosan','JHQW7601M','745986214562','HDFC',2584,'HDFC0000764','A','B','Bongaigaon','Assam','India','Hold_Limit');


insert into newcardpayment values(6,1,To_DATE('09/08/2020','DD/MM/YYYY'),2000);
insert into newcardpayment values(7,2,To_DATE('08/08/2020','DD/MM/YYYY'),1000);
insert into newcardpayment values(8,3,To_DATE('06/06/2020','DD/MM/YYYY'),1000);
insert into newcardpayment values(9,4,To_DATE('12/03/2020','DD/MM/YYYY'),2000);
insert into newcardpayment values(10,5,To_DATE('30/12/2019','DD/MM/YYYY'),1000);


insert into carddetails values(11,2,1,75000,To_DATE('09/08/2020','DD/MM/YYYY'),To_DATE('08/08/2025','DD/MM/YYYY'));
insert into carddetails values(12,3,1,60000,To_DATE('07/06/2018','DD/MM/YYYY'),To_DATE('06/06/2023','DD/MM/YYYY'));
insert into carddetails values(13,4,2,105000,To_DATE('13/03/2020','DD/MM/YYYY'),To_DATE('12/03/2025','DD/MM/YYYY'));
insert into carddetails values(14,5,1,0,To_DATE('31/12/2019','DD/MM/YYYY'),To_DATE('30/12/2024','DD/MM/YYYY'));


insert into ProductInventory values (15,'LG Washing Machine','Home Electronics: Washing Machine',9,14850,150,15000);
insert into ProductInventory values (16,'LG 40 TV','Home Electronics: 40 inch TV',1,29700,300,30000);
insert into ProductInventory values (17,'Samsung 50 TV','Home Electronics: 50 inch TV',4,44550,450,45000);
insert into ProductInventory values (18,'Iphone 11','Electronic Device: Smartphone',5,74250,750,75000);
insert into ProductInventory values (19,'Motorola Edge+','Electronic Device: Smartphone',1,74250,750,75000);
insert into ProductInventory values (46,'HP Spectre','Electronic Device: Laptop',6,118800,1200,120000);
insert into ProductInventory values (47,'Macbook Pro','Electronic Device: Laptop',4,118800,1200,120000);
insert into ProductInventory values (48,'Surface 7','Electronic Device: Laptop',7,133650,1350,135000);
insert into ProductInventory values (49,'Samsung S20+','Electronic Device: Smartphone',11,89100,900,90000);
insert into ProductInventory values (50,'Bluestar AC','Home Electronics: AC',6,29700,300,30000);
insert into ProductInventory values (51,'OnePlus 55 TV','Home Electronics: 55 inch TV',13,59400,600,60000);
insert into ProductInventory values (52,'Samsung Fridge','Home Electronics: Fridge',7,22275,225,22500);
insert into ProductInventory values (53,'Tanisq Pendant','Jewellery: Pendant',5,29700,300,30000);
insert into ProductInventory values (54,'Gitanjali Ring','Jewellery: Ring',12,22275,225,22500);
insert into ProductInventory values (55,'Saura Neckwear','Jewellery: Neckwear',4,133650,1350,135000);
insert into ProductInventory values (56,'Gili Earrings','Jewellery: Earrings',6,59400,600,60000);
insert into ProductInventory values (57,'Asmi Solitaire Ring','Jewellery: Solitaire Ring',8,44550,450,45000);
insert into ProductInventory values (58,'Maya Nosepin','Jewellery: Nosepin',13,14850,150,15000);


insert into purchases values (20,3,15,To_DATE('06/07/2020','DD/MM/YYYY'),3,5000);
insert into purchases values (21,4,17,To_DATE('15/05/2020','DD/MM/YYYY'),6,7500);
insert into purchases values (22,5,16,To_DATE('17/06/2020','DD/MM/YYYY'),3,1000);
insert into purchases values (23,5,17,To_DATE('20/06/2020','DD/MM/YYYY'),3,15000);


insert into EMICHART values (24,21,To_DATE('10/06/2020','DD/MM/YYYY'),7500,45000,37500,1,'Complete');
insert into EMICHART values (25,21,To_DATE('10/07/2020','DD/MM/YYYY'),7500,37500,30000,2,'Complete');
insert into EMICHART values (26,21,To_DATE('10/08/2020','DD/MM/YYYY'),7500,30000,22500,3,'Overdue');
insert into EMICHART values (27,21,To_DATE('10/09/2020','DD/MM/YYYY'),7500,22500,15000,4,'Upcoming');
insert into EMICHART values (28,21,To_DATE('10/10/2020','DD/MM/YYYY'),7500,15000,7500,5,'Upcoming');
insert into EMICHART values (29,21,To_DATE('10/11/2020','DD/MM/YYYY'),7500,7500,0,6,'Upcoming');
insert into EMICHART values (30,22,To_DATE('10/07/2020','DD/MM/YYYY'),10000,30000,20000,1,'Complete');
insert into EMICHART values (31,22,To_DATE('10/08/2020','DD/MM/YYYY'),10000,20000,10000,2,'Complete');
insert into EMICHART values (32,22,To_DATE('10/09/2020','DD/MM/YYYY'),10000,10000,0,3,'Upcoming');
insert into EMICHART values (33,23,To_DATE('10/07/2020','DD/MM/YYYY'),15000,45000,30000,1,'Complete');
insert into EMICHART values (34,23,To_DATE('10/08/2020','DD/MM/YYYY'),15000,30000,15000,2,'Complete');
insert into EMICHART values (35,23,To_DATE('10/09/2020','DD/MM/YYYY'),15000,15000,0,3,'Upcoming');
insert into EMICHART values (36,20,To_DATE('10/08/2020','DD/MM/YYYY'),5000,15000,10000,1,'Complete');
insert into EMICHART values (37,20,To_DATE('10/09/2020','DD/MM/YYYY'),5000,10000,5000,2,'Upcoming');
insert into EMICHART values (38,20,To_DATE('10/10/2020','DD/MM/YYYY'),5000,5000,0,3,'Upcoming');


insert into EMIPAYMENT values (39,21,7500,24,1,45000,37500,To_DATE('05/06/2020','DD/MM/YYYY'));
insert into EMIPAYMENT values (40,21,7500,25,2,37500,30000,To_DATE('08/07/2020','DD/MM/YYYY'));
insert into EMIPAYMENT values (41,22,10000,30,1,30000,20000,To_DATE('08/07/2020','DD/MM/YYYY'));
insert into EMIPAYMENT values (42,22,10000,31,2,20000,10000,To_DATE('03/08/2020','DD/MM/YYYY'));
insert into EMIPAYMENT values (43,23,15000,33,1,45000,30000,To_DATE('08/07/2020','DD/MM/YYYY'));
insert into EMIPAYMENT values (44,23,15000,34,2,30000,15000,To_DATE('04/08/2020','DD/MM/YYYY')); 
insert into EMIPAYMENT values (45,20,5000,36,1,15000,10000,To_DATE('06/08/2020','DD/MM/YYYY'));


